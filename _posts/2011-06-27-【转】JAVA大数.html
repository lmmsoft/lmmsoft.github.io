---
title: 【转】JAVA大数
date: 2011-06-27 12:29:00 +0800
layout: post
published: true
comments: true
category: acm比赛
moveForm: baidu_qing
---
<div> <p>&nbsp;&nbsp;&nbsp;在用C或者C++处理大数时感觉非常麻烦，但是在JAVA中有两个类BigInteger和BigDecimal分别表示大整数类和大浮点数类，<br />两个类的对象能表示最大范围理论上能够表示无线大的数，只要计算机内存足够大。 这两个类都在java.math.*包中，因此每次必须在开头处引用该包。</p><p><br />Ⅰ基本函数：</p><p>1.valueOf(parament); 将参数转换为制定的类型<br />比如 int a=3;<br />BigInteger b=BigInteger.valueOf(a);</p><p>则b=3;</p><p>String s=”12345”;<br />BigInteger c=BigInteger.valueOf(s);</p><p>则c=12345；&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>2.add(); 大整数相加<br />BigInteger a=new BigInteger(“23”);<br />BigInteger b=new BigInteger(“34”);<br />a.add(b);<br /><br />3.subtract(); 相减</p><p>4.multiply(); 相乘</p><p>5.divide(); 相除取整</p><p>6.remainder(); 取余</p><p>7.pow(); a.pow(b)=a^b</p><p>8.gcd(); 最大公约数</p><p>9.abs(); 绝对值</p><p>10.negate(); 取反数</p><p>11.mod(); a.mod(b)=a%b=a.remainder(b);</p><p>12.max(); min();</p><p>13.public int comareTo();</p><p>14.boolean equals(); 是否相等</p><p>15.BigInteger构造函数：</p><p>一般用到以下两种：<br />BigInteger(String val);<br />将指定字符串转换为十进制表示形式；</p><p>BigInteger(String val,int radix);<br />将指定基数的 BigInteger 的字符串表示形式转换为 BigInteger</p><p>Ⅱ.基本常量：</p><p>A=BigInteger.ONE 1<br />B=BigInteger.TEN 10<br />C=BigInteger.ZERO 0</p><p>Ⅲ.基本操作<br />1. 读入：<br />用Scanner类定义对象进行控制台读入,Scanner类在java.util.*包中</p><p>Scanner cin=new Scanner(System.in);// 读入<br />while(cin.hasNext()) //等同于!=EOF<br />{<br />&nbsp;&nbsp; int n;<br />&nbsp;&nbsp; BigInteger m;<br />&nbsp;&nbsp; n=cin.nextInt(); //读入一个int;<br />&nbsp;&nbsp; m=cin.nextBigInteger();//读入一个BigInteger;<br />&nbsp;&nbsp; System.out.print(m.toString());</p><p>}</p><p>Ⅳ.运用</p><p>四则预算：</p>import java.util.Scanner;import java.math.*;import java.text.*;public class Main {public static void main(String args[]){   Scanner cin = new Scanner ( System.in );   BigInteger a,b;   int c;   char op;   String s;     while(cin.hasNext() )   {    a = cin.nextBigInteger();    s = cin.next();    op = s.charAt(0);    if( op == '+')    {     b = cin.nextBigInteger();     System.out.println(a.add(b));    }    else if( op == '-')    {     b = cin.nextBigInteger();     System.out.println(a.subtract(b));    }    else if( op == '*')    {     b = cin.nextBigInteger();     System.out.println(a.multiply(b));    }    else    {     BigDecimal a1,b1,eps;     String s1,s2,temp;     s1 = a.toString();     a1 = new BigDecimal(s1);     b = cin.nextBigInteger();     s2 = b.toString();     b1 = new BigDecimal(s2);     c = cin.nextInt();     eps = a1.divide(b1,c,4);     System.out.print( a.divide(b) + &quot; &quot; + a.mod(b) + &quot; &quot;);     if( c != 0)     {      temp = &quot;0.&quot;;      for(int i = 0; i &lt; c; i ++) temp += &quot;0&quot;;      DecimalFormat gd = new DecimalFormat(temp);      System.out.println(gd.format(eps));     }     else System.out.println(eps);    }   }   }}例子：求一个n元素集合中k个元素的组合数量：C(n,k) =  n!/(k! * (n-k)!)import java.math.BigInteger;   import java.util.*;import java.io.*;  public class FactorialBigIntegerTest {         public static void main(String[] args) throws Exception {                   Scanner cin=new Scanner(System.in);        int T = cin.nextInt();        for(int i = 0;i &lt; T;i++){          int n=cin.nextInt(),k=cin.nextInt();                  BigInteger nf= new BigInteger(&quot;&quot;+factorial(n));          BigInteger kf=  new BigInteger(&quot;&quot;+factorial(k));          BigInteger nk = new BigInteger(&quot;&quot;+factorial(n-k));          BigInteger n1 = new BigInteger(&quot;&quot;+nf.divide(kf));          System.out.println(n1.divide(nk));          }    }             private static final BigInteger factorial(int n){           BigInteger bigInteger=new BigInteger(&quot;&quot;+n);           if(n==0)               return BigInteger.ONE;           else              return factorial(n-1).multiply(bigInteger);                }   } 输入 2000 50运行结果：<br /><p>19961695734279236211032903597262781251004330223561192760088208846391036329722665786642280715824928160</p><p>&nbsp;</p><p>例子：</p><p>poj2305</p><p>大数的进制转换</p><p>&nbsp;</p><p></p><p>String st = Integer.toString(num, base); // 把num当做10进制的数转成base进制的st(base &lt;= 35).<br />int num = Integer.parseInt(st, base); // 把st当做base进制，转成10进制的int(parseInt有两个参数,第一个为要转的字符串,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 第二个为说明是什么进制).<br />BigInter m = new BigInteger(st, base); // st是字符串，base是st的进制.</p><p>1.如果要将一个大数以2进制形式读入 可以使用cin.nextBigInteger(2);<br />当然也可以使用其他进制方式读入；<br /><br />2.如果要将一个大数转换成其他进制形式的字符串 使用cin.toString(2);//将它转换成2进制表示的字符串</p><p>&nbsp;</p><p>关键代码：</p><p>Scanner cin=new Scanner(System.in);BigInteger p,m,ans;</p><p>p=cin.nextBigInteger(b);//从命令行以b进制读大数m=cin.nextBigInteger(b);ans=p.mod(m);//p%m</p><p></p> </div>
