---
title: poj2255给定二叉树的前序和中序，输出后序
date: 2010-12-15 18:09:45 +0800
layout: post
published: true
comments: true
category: acm比赛
moveForm: blog.163.com
permalink: /poj2255-preorder-inorder-to-postorder/
---
<div>我的递归思维一直很差，潜意识里总是觉得这种思维不是真正的解决问题，所以，总是想用递推思维思考问题。</div><div>给定二叉树的前序和中序，输出后序是数据结构中的基本问题，我一直不敢上机实践，就怕自己做不出来。恰好今晚有两个战友，无聊之极，试一试，果断AC了，当然，这题poj的数据比较弱，我去了zoj，依然ac，估计水题没必要出强大数据吧。</div><div>期末要考《数据结构》这题给了我很大信心，真的！</div><div><br></div><div>很难想象，这是我poj的第206题，呵呵，今晚战胜了心魔，熬夜，值了！！！</div><div><br></div><div>贴一个poj上的递推代码，很漂亮。</div><div>#include &lt;iostream&gt;</div><div>#include &lt;string&gt;</div><div>using namespace std;</div><div>string f(string s1,string s2)</div><div>{</div><div><span style="white-space:pre;">	</span>if(s1.length()==1) return s1;</div><div><span style="white-space:pre;">	</span>else if(s1.length()==0) return "";</div><div><span style="white-space:pre;">	</span>else</div><div><span style="white-space:pre;">	</span>{</div><div><span style="white-space:pre;">		</span>size_t m=s1.find(s2[0]);</div><div><span style="white-space:pre;">		</span>return f(s1.substr(0,m),s2.substr(1,m))+f(s1.substr(m+1),s2.substr(m+1))+s2[0];</div><div><span style="white-space:pre;">	</span>}</div><div>}</div><div><br></div><div>int main()</div><div>{</div><div><span style="white-space:pre;">	</span>string s1,s2,s;//s1为preorder traversal &nbsp;s2为inorder traversal&nbsp;</div><div><span style="white-space:pre;">	</span>while(cin&gt;&gt;s1&gt;&gt;s2)</div><div><span style="white-space:pre;">	</span>{</div><div><span style="white-space:pre;">		</span>s=f(s2,s1);</div><div><span style="white-space:pre;">		</span>cout&lt;&lt;s&lt;&lt;endl;</div><div><span style="white-space:pre;">		</span></div><div><span style="white-space:pre;">	</span>}</div><div><br></div><div><span style="white-space:pre;">	</span>return 0;</div><div>}</div><div><br></div><div>偷偷把我的代码放到最后，就不解释了吧。。。</div><div>/*&nbsp;</div><div>&nbsp;* File: &nbsp; main.cpp</div><div>&nbsp;* Author: lmm333</div><div>&nbsp;* Created on 2010年12月16日</div><div>&nbsp;*/</div><div>#include &lt;iostream&gt;</div><div>#include &lt;string&gt;</div><div>using namespace std;</div><div>char a[30],b[30];</div><div>void f(int a1,int b1,int a2,int b2){</div><div>&nbsp;&nbsp; &nbsp;int l,r,p2,i;</div><div>&nbsp;&nbsp; &nbsp;char p1=a[a1];</div><div>&nbsp;&nbsp; &nbsp;for(i=a2;i&lt;=b2;i++){</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if(b[i]==p1)break;</div><div>&nbsp;&nbsp; &nbsp;}</div><div>&nbsp;&nbsp; &nbsp;l=i-a2;</div><div>&nbsp;&nbsp; &nbsp;r=b2-i;</div><div>&nbsp;&nbsp; &nbsp;if(l==0);</div><div>&nbsp;&nbsp; &nbsp;else if(l==1)</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;put("%c",b[a2]);</div><div>&nbsp;&nbsp; &nbsp;else f(a1+1,i-1,a2,i-1);</div><div><br></div><div>&nbsp;&nbsp; &nbsp;if(r==0);</div><div>&nbsp;&nbsp; &nbsp;else if(r==1)</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;put("%c",b[i+1]);</div><div>&nbsp;&nbsp; &nbsp;else f(a1-a2+i+1,b1,i+1,b2);</div><div>&nbsp;&nbsp; &nbsp;put("%c",b[i]);</div><div>}</div><div>int main(){</div><div>&nbsp;&nbsp; &nbsp;int l;</div><div>&nbsp;&nbsp; &nbsp;while(scanf("%s%s",a,b)!=EOF){</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;l=strlen(a);</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;f(0,l-1,0,l-1);</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;puts("");</div><div>&nbsp;&nbsp; &nbsp;}</div><div>}</div><wbr>
